<html>
<head>

<title>Data Table</title>

<script src="comp/avocado-table.js"></script>
<script src="comp/avocado-column.js"></script>

<style>
  body {
    display: flex;
    flex-direction: column;
    margin: 16px;
    padding: 0;
  }
</style>

</head>
<body>

<avocado-table 
  grow="1">
  <avocado-column
    field="name"
    grow="1"
    truncated>
    Name
  </avocado-column>
  <avocado-column
    field="color_id"
    truncated
    width="150">
    Color
  </avocado-column>  
  <avocado-column
    field="weight"
    width="150">
    Weight
  </avocado-column>  
  <avocado-column
    field="count"
    width="150">
    Count
  </avocado-column>  
</avocado-table>

<script>
const table = document.querySelector( 'avocado-table' );
table.addEventListener( 'change', ( evt ) => {
  console.log( evt );
} );

fetch( 'https://insights-api.mybluemix.net/api/capacity', {
  method: 'GET',
  headers: {
    'X-Avocado': 'c65c64d5-905e-4084-86e4-7874907243fe'
  }
} )
.then( ( response ) => response.json() )
.then( ( data ) => {
  table.data = data;
} );
</script>

</body>
</html>
